(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{32:function(e,t,r){},33:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(25),s=r.n(c),i=r(4),l=r.n(i),o=r(6),u=r(10),j=function e(){var t=this;Object(u.a)(this,e),this._apiBase="https://swapi.dev/api",this._imageBase="https://starwars-visualguide.com/assets/img",this.getResource=function(){var e=Object(o.a)(l.a.mark((function e(r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(r));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(r)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPeople=Object(o.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(o.a)(l.a.mark((function e(r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(o.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(o.a)(l.a.mark((function e(r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllStarships=Object(o.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformStarship));case 4:case"end":return e.stop()}}),e)}))),this.getStarship=function(){var e=Object(o.a)(l.a.mark((function e(r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformStarship(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPersonImage=function(e){var r=e.id;return"".concat(t._imageBase,"/characters/").concat(r,".jpg")},this.getStarshipImage=function(e){var r=e.id;return"".concat(t._imageBase,"/starships/").concat(r,".jpg")},this.getPlanetImage=function(e){var r=e.id;return"".concat(t._imageBase,"/planets/").concat(r,".jpg")},this._extractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this._transformPlanet=function(e){return{id:t._extractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}},this._transformStarship=function(e){return{id:t._extractId(e),name:e.name,model:e.model,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers,cargoCapacity:e.cargo_capacity}},this._transformPerson=function(e){return{id:t._extractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color}}},d=a.a.createContext(),b=d.Provider,m=d.Consumer,h=r(15),p=(r(32),r(13)),f=r(26),O=r(3),x=r(5),g=(r(33),r(1)),v=function(e){var t=e.setItemId,r=e.children,a=e.getData,c=Object(n.useState)({data:[]}),s=Object(x.a)(c,2),i=s[0],l=s[1];Object(n.useEffect)((function(){a().then((function(e){return l({data:e})}))}),[]);var o=i.data.map((function(e){return Object(g.jsx)("li",{onClick:function(){return t(e.id)},className:"list-group-item",children:r(e)},e.id)}));return Object(g.jsx)("ul",{className:"item-list list-group",children:o})},I=(r(35),function(e){var t=e.label,r=e.label_key,n=e.data;return Object(g.jsxs)("li",{className:"list-group-item",children:[Object(g.jsx)("span",{className:"term",children:t}),Object(g.jsx)("span",{children:n[r]})]})}),_=function(e){var t=e.itemId,r=e.children,c=e.getData,s=e.getImage,i=Object(n.useState)({data:{}}),l=Object(x.a)(i,2),o=l[0],u=l[1],d=o.data,b=d.id,m=d.name,h=(new j,s({id:b}));return Object(n.useEffect)((function(){c(t).then((function(e){u({data:e})}))}),[t]),Object(g.jsxs)("div",{className:"item-details card",children:[Object(g.jsx)("img",{className:"item-image",src:h}),Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h4",{children:m}),Object(g.jsx)("ul",{className:"list-group list-group-flush",children:a.a.Children.map(r,(function(e){return a.a.cloneElement(e,{data:o.data})}))})]})]})},w=function(e){var t=e.left,r=e.right;return Object(g.jsxs)("div",{className:"row mb2",children:[Object(g.jsx)("div",{className:"col-md-6",children:t}),Object(g.jsx)("div",{className:"col-md-6",children:r})]})};var y=function(e,t){return function(r){return Object(g.jsx)(m,{children:function(n){var a=t(n);return Object(g.jsx)(e,Object(p.a)(Object(p.a)({},r),a))}})}},P=y(v,(function(e){return{getData:e.getAllPeople}})),k=y(_,(function(e){return{getData:e.getPerson,getImage:e.getPersonImage}})),N=function(){var e=Object(n.useState)({itemId:1}),t=Object(x.a)(e,2),r=t[0],a=t[1],c=Object(g.jsx)(P,{setItemId:function(e){return a({itemId:e})},children:function(e){return"".concat(e.name)}}),s=Object(g.jsxs)(k,{itemId:r.itemId,children:[Object(g.jsx)(I,{label:"Gender:",label_key:"gender"}),Object(g.jsx)(I,{label:"Eye color:",label_key:"eyeColor"}),Object(g.jsx)(I,{label:"Birth year:",label_key:"birthYear"})]});return Object(g.jsx)(w,{left:c,right:s})},S=y(v,(function(e){return{getData:e.getAllPlanets}})),C=y(_,(function(e){return{getData:e.getPlanet,getImage:e.getPlanetImage}})),D=function(){var e=Object(n.useState)({itemId:2}),t=Object(x.a)(e,2),r=t[0],a=t[1],c=Object(g.jsx)(S,{setItemId:function(e){return a({itemId:e})},children:function(e){return"".concat(e.name)}}),s=Object(g.jsxs)(C,{itemId:r.itemId,children:[Object(g.jsx)(I,{label:"Population:",label_key:"population"}),Object(g.jsx)(I,{label:"Rotation period:",label_key:"rotationPeriod"}),Object(g.jsx)(I,{label:"Diameter:",label_key:"diameter"})]});return Object(g.jsx)(w,{left:c,right:s})},R=y(v,(function(e){return{getData:e.getAllStarships}})),B=y(_,(function(e){return{getData:e.getStarship,getImage:e.getStarshipImage}})),E=function(){var e=Object(n.useState)({itemId:2}),t=Object(x.a)(e,2),r=t[0],a=t[1],c=Object(g.jsx)(R,{setItemId:function(e){return a({itemId:e})},children:function(e){return"".concat(e.name)}}),s=Object(g.jsxs)(B,{itemId:r.itemId,children:[Object(g.jsx)(I,{label:"Model:",label_key:"model"}),Object(g.jsx)(I,{label:"Manufacturer:",label_key:"manufacturer"}),Object(g.jsx)(I,{label:"Cost in credits:",label_key:"costInCredits"}),Object(g.jsx)(I,{label:"Length:",label_key:"length"}),Object(g.jsx)(I,{label:"Crew:",label_key:"crew"}),Object(g.jsx)(I,{label:"Passengers:",label_key:"passengers"}),Object(g.jsx)(I,{label:"Cargo capacity:",label_key:"cargoCapacity"})]});return Object(g.jsx)(w,{left:c,right:s})},A=(r(36),function(){var e=Object(n.useState)({data:{}}),t=Object(x.a)(e,2),r=t[0],a=t[1],c=r.data,s=c.id,i=c.name,l=c.population,o=c.rotationPeriod,u=c.diameter,d="https://starwars-visualguide.com/assets/img/planets/".concat(s,".jpg"),b=new j,m=function(){var e=Math.floor(20*Math.random()+1);b.getPlanet(e).then((function(e){a({data:e})}))};return Object(n.useEffect)((function(){m(),setInterval((function(){return m()}),3e3)}),[]),Object(g.jsxs)("div",{className:"random-planet jumbotron rounded",children:[Object(g.jsx)("img",{className:"planet-image",src:d}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{children:i}),Object(g.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(g.jsxs)("li",{className:"list-group-item",children:[Object(g.jsx)("span",{className:"term",children:"Population"}),Object(g.jsx)("span",{children:l})]}),Object(g.jsxs)("li",{className:"list-group-item",children:[Object(g.jsx)("span",{className:"term",children:"Rotation Period"}),Object(g.jsx)("span",{children:o})]}),Object(g.jsxs)("li",{className:"list-group-item",children:[Object(g.jsx)("span",{className:"term",children:"Diameter"}),Object(g.jsx)("span",{children:u})]})]})]})]})}),M=(r(37),["to","children"]),F=function(){return Object(g.jsxs)(n.Fragment,{children:[Object(g.jsxs)("div",{className:"header d-flex",children:[Object(g.jsx)("h3",{children:Object(g.jsx)(h.b,{to:"/",children:"Star Wars"})}),Object(g.jsxs)("ul",{className:"d-flex",children:[Object(g.jsx)(e,{to:"/people",children:"People"}),Object(g.jsx)(e,{to:"/planets",children:"Planets"}),Object(g.jsx)(e,{to:"/starships",children:"Starships"})]})]}),Object(g.jsx)(A,{}),Object(g.jsxs)(O.c,{children:[Object(g.jsx)(O.a,{path:"/people",element:Object(g.jsx)(N,{})}),Object(g.jsx)(O.a,{path:"/planets",element:Object(g.jsx)(D,{})}),Object(g.jsx)(O.a,{path:"/starships",element:Object(g.jsx)(E,{})})]})]});function e(e){var t=e.to,r=e.children,n=Object(f.a)(e,M);return Object(g.jsx)("li",{children:Object(g.jsx)(h.b,Object(p.a)(Object(p.a)({to:t},n),{},{children:r}))})}},J=new j,Y=function(){return Object(g.jsx)(n.Fragment,{children:Object(g.jsx)(b,{value:J,children:Object(g.jsx)(h.a,{children:Object(g.jsx)(F,{})})})})};s.a.render(Object(g.jsx)(Y,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.4ad14654.chunk.js.map