{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Kirill/Front-end/Next.js/starWars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Kirill/Front-end/Next.js/starWars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Kirill/Front-end/Next.js/starWars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";var SwapiService=function SwapiService(){var _this=this;_classCallCheck(this,SwapiService);this._apiBase='https://swapi.dev/api';this._imageBase='https://starwars-visualguide.com/assets/img';this.getResource=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(_this._apiBase).concat(url));case 2:res=_context.sent;if(res.ok){_context.next=5;break;}throw new Error(\"Could not fetch \".concat(url)+\", received \".concat(res.status));case 5:_context.next=7;return res.json();case 7:return _context.abrupt(\"return\",_context.sent);case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.getAllPeople=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.getResource(\"/people/\");case 2:res=_context2.sent;return _context2.abrupt(\"return\",res.results.map(_this._transformPerson));case 4:case\"end\":return _context2.stop();}}},_callee2);}));this.getPerson=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var person;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.getResource(\"/people/\".concat(id,\"/\"));case 2:person=_context3.sent;return _context3.abrupt(\"return\",_this._transformPerson(person));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();this.getAllPlanets=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.getResource(\"/planets/\");case 2:res=_context4.sent;return _context4.abrupt(\"return\",res.results.map(_this._transformPlanet));case 4:case\"end\":return _context4.stop();}}},_callee4);}));this.getPlanet=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var planet;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this.getResource(\"/planets/\".concat(id,\"/\"));case 2:planet=_context5.sent;return _context5.abrupt(\"return\",_this._transformPlanet(planet));case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x3){return _ref5.apply(this,arguments);};}();this.getAllStarships=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _this.getResource(\"/starships/\");case 2:res=_context6.sent;return _context6.abrupt(\"return\",res.results.map(_this._transformStarship));case 4:case\"end\":return _context6.stop();}}},_callee6);}));this.getStarship=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){var starship;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _this.getResource(\"/starships/\".concat(id,\"/\"));case 2:starship=_context7.sent;return _context7.abrupt(\"return\",_this._transformStarship(starship));case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x4){return _ref7.apply(this,arguments);};}();this.getPersonImage=function(_ref8){var id=_ref8.id;return\"\".concat(_this._imageBase,\"/characters/\").concat(id,\".jpg\");};this.getStarshipImage=function(_ref9){var id=_ref9.id;return\"\".concat(_this._imageBase,\"/starships/\").concat(id,\".jpg\");};this.getPlanetImage=function(_ref10){var id=_ref10.id;return\"\".concat(_this._imageBase,\"/planets/\").concat(id,\".jpg\");};this._extractId=function(item){var idRegExp=/\\/([0-9]*)\\/$/;return item.url.match(idRegExp)[1];};this._transformPlanet=function(planet){return{id:_this._extractId(planet),name:planet.name,population:planet.population,rotationPeriod:planet.rotation_period,diameter:planet.diameter};};this._transformStarship=function(starship){return{id:_this._extractId(starship),name:starship.name,model:starship.model,manufacturer:starship.manufacturer,costInCredits:starship.cost_in_credits,length:starship.length,crew:starship.crew,passengers:starship.passengers,cargoCapacity:starship.cargo_capacity};};this._transformPerson=function(person){return{id:_this._extractId(person),name:person.name,gender:person.gender,birthYear:person.birth_year,eyeColor:person.eye_color};};};export{SwapiService as default};","map":{"version":3,"names":["SwapiService","_apiBase","_imageBase","getResource","url","fetch","res","ok","Error","status","json","getAllPeople","results","map","_transformPerson","getPerson","id","person","getAllPlanets","_transformPlanet","getPlanet","planet","getAllStarships","_transformStarship","getStarship","starship","getPersonImage","getStarshipImage","getPlanetImage","_extractId","item","idRegExp","match","name","population","rotationPeriod","rotation_period","diameter","model","manufacturer","costInCredits","cost_in_credits","length","crew","passengers","cargoCapacity","cargo_capacity","gender","birthYear","birth_year","eyeColor","eye_color"],"sources":["/Users/Kirill/Front-end/Next.js/starWars/src/services/swapi-service.js"],"sourcesContent":["export default class SwapiService {\n\n  _apiBase = 'https://swapi.dev/api';\n  _imageBase = 'https://starwars-visualguide.com/assets/img';\n\n  getResource = async (url) => {\n    const res = await fetch(`${this._apiBase}${url}`);\n\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url}` +\n        `, received ${res.status}`)\n    }\n    return await res.json();\n  };\n\n  getAllPeople = async () => {\n    const res = await this.getResource(`/people/`);\n    return res.results\n      .map(this._transformPerson)\n  };\n\n  getPerson = async (id) => {\n    const person = await this.getResource(`/people/${id}/`);\n    return this._transformPerson(person);\n  };\n\n  getAllPlanets = async () => {\n    const res = await this.getResource(`/planets/`);\n    return res.results\n      .map(this._transformPlanet)\n  };\n\n  getPlanet = async (id) => {\n    const planet = await this.getResource(`/planets/${id}/`);\n    return this._transformPlanet(planet);\n  };\n\n  getAllStarships = async () => {\n    const res = await this.getResource(`/starships/`);\n    return res.results\n      .map(this._transformStarship)\n  };\n\n  getStarship = async (id) => {\n    const starship = await this.getResource(`/starships/${id}/`);\n    return this._transformStarship(starship);\n  };\n\n  getPersonImage = ({id}) => {\n    return `${this._imageBase}/characters/${id}.jpg`\n  };\n\n  getStarshipImage = ({id}) => {\n    return `${this._imageBase}/starships/${id}.jpg`\n  };\n\n  getPlanetImage = ({id}) => {\n    return `${this._imageBase}/planets/${id}.jpg`\n  };\n\n  _extractId = (item) => {\n    const idRegExp = /\\/([0-9]*)\\/$/;\n    return item.url.match(idRegExp)[1];\n  };\n\n  _transformPlanet = (planet) => {\n    return {\n      id: this._extractId(planet),\n      name: planet.name,\n      population: planet.population,\n      rotationPeriod: planet.rotation_period,\n      diameter: planet.diameter\n    };\n  };\n\n  _transformStarship = (starship) => {\n    return {\n      id: this._extractId(starship),\n      name: starship.name,\n      model: starship.model,\n      manufacturer: starship.manufacturer,\n      costInCredits: starship.cost_in_credits,\n      length: starship.length,\n      crew: starship.crew,\n      passengers: starship.passengers,\n      cargoCapacity: starship.cargo_capacity\n    }\n  };\n\n  _transformPerson = (person) => {\n    return {\n      id: this._extractId(person),\n      name: person.name,\n      gender: person.gender,\n      birthYear: person.birth_year,\n      eyeColor: person.eye_color\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}